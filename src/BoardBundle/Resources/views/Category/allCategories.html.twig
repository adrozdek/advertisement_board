{% extends "::base.html.twig" %}

{% block title %}BoardBundle:Category:allCategories{% endblock %}

{% block body %}
    <h1>Kategorie</h1>
    {% if is_granted('ROLE_ADMIN') %}
        <div class="middle">
            Dodaj nową: {{ render(controller('BoardBundle:Category:createCategory')) }}
        </div>
    {% endif %}
    <br>

    <div class="table-responsive">
        <table class="table">
            <tr class="no">
                <th><b>Nazwa</b></th>
                <th><b>Ilość ogłoszeń</b></th>
                {% if is_granted('ROLE_ADMIN') %}
                <th><b>Usuń</b></th>
                {% endif %}
            </tr>
            {% for category in categories %}
                <tr>
                    <td><a href="{{ path('showCategory', {'id': category.id }) }}">{{ category.name }}</a></td>
                    <td>{{ category.ads | length }}</td>
                    {% if is_granted('ROLE_ADMIN') %}
                    <td><a href="{{ path('removeCategory', {'id': category.id }) }}"
                           class="glyphicon glyphicon-trash"></a></td>
                    {% endif %}
                </tr>

            {% endfor %}

        </table>
    </div>


{% endblock %}
